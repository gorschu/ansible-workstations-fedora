---
# Networking configuration - hostname, NetworkManager, WireGuard, Tailscale

- name: Install networking packages
  become: true
  ansible.builtin.dnf:
    name: "{{ networking_packages }}"
    state: present

- name: Load vault secrets
  ansible.builtin.include_vars:
    file: "{{ playbook_dir }}/vault.yml"
  no_log: true
  tags: [always]

- name: Configure hostname
  ansible.builtin.import_tasks: hostname.yml
  tags: [hostname]

- name: Configure NetworkManager
  ansible.builtin.import_tasks: networkmanager.yml
  tags: [networkmanager]

- name: Configure WireGuard
  ansible.builtin.import_tasks: wireguard.yml
  tags: [wireguard, vpn]

- name: Configure Tailscale
  ansible.builtin.import_tasks: tailscale.yml
  tags: [tailscale, vpn]
